let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function o(t){return e.filter(e=>e.name.toLowerCase().startsWith(t.toLowerCase()))}function i(e){pokemonRepository.loadDetails(e).then(function(){let t=document.querySelector("#pokemon-list"),n=document.createElement("div");n.classList.add("col-lg-3","col-md-4","col-sm-6","mb-4");let o=document.createElement("div");o.classList.add("card","text-center");let i=document.createElement("div");i.classList.add("card-body");let r=document.createElement("h5");r.classList.add("card-title"),r.innerText=e.name;let l=document.createElement("img");l.classList.add("card-img-top"),l.src=e.imgUrl,l.alt="Image of "+e.name;let d=document.createElement("button");d.classList.add("btn","btn-primary"),d.innerText="More Details",d.setAttribute("data-toggle","modal"),d.setAttribute("data-target","#pokemonModal"),d.addEventListener("click",function(){a(e)}),i.appendChild(r),i.appendChild(d),o.appendChild(l),o.appendChild(i),n.appendChild(o),t.appendChild(n)})}function a(e){pokemonRepository.loadDetails(e).then(function(){var t,n,o;t="Name: "+e.name,n="Height: "+10*e.height+"cm",o=e.imgUrl,document.getElementById("modal-pokemon-name").innerText=t,document.getElementById("modal-pokemon-height").innerText=n,document.getElementById("modal-pokemon-image").src=o,$("#pokemonModal").modal("show")})}return{add:t,getAll:n,addListItem:i,showDetails:a,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imgUrl=e.sprites.front_default,t.height=e.height}).catch(function(e){console.error(e)})},pokeSearch:function e(){document.querySelector("#myInput").addEventListener("input",function(){let e=o(this.value.toLowerCase());document.querySelector(".row").innerHTML="",e.forEach(function(e){i(e)})})},findByName:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.pokeSearch()});